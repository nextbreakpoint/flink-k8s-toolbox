apiVersion: "nextbreakpoint.com/v1"
kind: FlinkJob
metadata:
  name: test-job-2
spec:
  jobParallelism: 1
  savepoint:
    savepointMode: Manual
    savepointInterval: 300
    savepointTargetPath: file:///var/savepoints
  restart:
    restartPolicy: Always
    restartDelay: 60
    restartTimeout: 120
  bootstrap:
    serviceAccount: flink-bootstrap
    pullPolicy: Never
    image: example/jobs:latest
    jarPath: /flink-jobs.jar
    className: com.nextbreakpoint.flink.jobs.stream.TestJob
    arguments:
      - --DEVELOP_MODE
      - disabled
    resources:
      limits:
        cpu: '0.05'
        memory: 200Mi
      requests:
        cpu: '0.05'
        memory: 200Mi
